# ê°ì‹œ

## ðŸ’¡ë¬¸ì œ ë¶„ì„ ìš”ì•½
```
ì‹œê°„ì œí•œ 1ì´ˆ
ë©”ëª¨ë¦¬ ì œí•œ 512MB

ìŠ¤íƒ€íŠ¸ë§í¬ì˜ ì‚¬ë¬´ì‹¤ì€ 1x1í¬ê¸°ì˜ ì •ì‚¬ê°í˜•ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìžˆëŠ” NxM í¬ê¸°ì˜ ì§ì‚¬ê°í˜•ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìžˆë‹¤. 
ì‚¬ë¬´ì‹¤ì—ëŠ” ì´ Kê°œì˜ CCTVê°€ ì„¤ì¹˜ë˜ì–´ì ¸ ìžˆëŠ”ë°, CCTVëŠ” 5ê°€ì§€ ì¢…ë¥˜ê°€ ìžˆë‹¤. ê° CCTVê°€ ê°ì‹œí•  ìˆ˜ ìžˆëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
1ë²ˆ CCTVëŠ” í•œ ìª½ ë°©í–¥ë§Œ ê°ì‹œí•  ìˆ˜ ìžˆë‹¤. 2ë²ˆê³¼ 3ë²ˆì€ ë‘ ë°©í–¥ì„ ê°ì‹œí•  ìˆ˜ ìžˆëŠ”ë°, 2ë²ˆì€ ê°ì‹œí•˜ëŠ” ë°©í–¥ì´ ì„œë¡œ ë°˜ëŒ€ë°©í–¥ì´ì–´ì•¼ í•˜ê³ , 
3ë²ˆì€ ì§ê° ë°©í–¥ì´ì–´ì•¼ í•œë‹¤. 4ë²ˆì€ ì„¸ ë°©í–¥, 5ë²ˆì€ ë„¤ ë°©í–¥ì„ ê°ì‹œí•  ìˆ˜ ìžˆë‹¤.

CCTVëŠ” ê°ì‹œí•  ìˆ˜ ìžˆëŠ” ë°©í–¥ì— ìžˆëŠ” ì¹¸ ì „ì²´ë¥¼ ê°ì‹œí•  ìˆ˜ ìžˆë‹¤. ì‚¬ë¬´ì‹¤ì—ëŠ” ë²½ì´ ìžˆëŠ”ë°, CCTVëŠ” ë²½ì„ í†µê³¼í•  ìˆ˜ ì—†ë‹¤. CCTVê°€ ê°ì‹œí•  ìˆ˜ ì—†ëŠ” ì˜ì—­ì€ ì‚¬ê°ì§€ëŒ€ë¼ê³  í•œë‹¤.
CCTVëŠ” íšŒì „ì‹œí‚¬ ìˆ˜ ìžˆëŠ”ë°, íšŒì „ì€ í•­ìƒ 90ë„ ë°©í–¥ìœ¼ë¡œ í•´ì•¼ í•˜ë©°, ê°ì‹œí•˜ë ¤ê³  í•˜ëŠ” ë°©í–¥ì´ ê°€ë¡œ ë˜ëŠ” ì„¸ë¡œ ë°©í–¥ì´ì–´ì•¼ í•œë‹¤.
0 0 0 0 0 0
0 0 0 0 0 0
0 0 1 0 6 0
0 0 0 0 0 0
ì§€ë„ì—ì„œ 0ì€ ë¹ˆ ì¹¸, 6ì€ ë²½, 1~5ëŠ” CCTVì˜ ë²ˆí˜¸ì´ë‹¤. ìœ„ì˜ ì˜ˆì‹œì—ì„œ 1ë²ˆì˜ ë°©í–¥ì— ë”°ë¼ ê°ì‹œí•  ìˆ˜ ìžˆëŠ” ì˜ì—­ì„ '#'ë¡œ ë‚˜íƒ€ë‚´ë©´ ì•„ëž˜ì™€ ê°™ë‹¤.

->
0 0 0 0 0 0
0 0 0 0 0 0
0 0 1 # 6 0
0 0 0 0 0 0
<-
0 0 0 0 0 0
0 0 0 0 0 0
# # 1 0 6 0
0  0 0 0 0 0
â†‘
0 0 # 0 0 0
0 0 # 0 0 0
0 0 1 0 6 0
0 0 0 0 0 0
â†“
0 0 0 0 0 0
0 0 0 0 0 0
0 0 1 0 6 0
0 0 # 0 0 0
CCTVëŠ” ë²½ì„ í†µê³¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, 1ë²ˆì´ â†’ ë°©í–¥ì„ ê°ì‹œí•˜ê³  ìžˆì„ ë•ŒëŠ” 6ì˜ ì˜¤ë¥¸ìª½ì— ìžˆëŠ” ì¹¸ì„ ê°ì‹œí•  ìˆ˜ ì—†ë‹¤.


0 0 0 0 0 0
0 2 0 0 0 0
0 0 0 0 6 0
0 6 0 0 2 0
0 0 0 0 0 0
0 0 0 0 0 5
ìœ„ì˜ ì˜ˆì‹œì—ì„œ ê°ì‹œí•  ìˆ˜ ìžˆëŠ” ë°©í–¥ì„ ì•Œì•„ë³´ë©´ ì•„ëž˜ì™€ ê°™ë‹¤.

ì™¼ìª½ ìƒë‹¨ 2: â†”, ì˜¤ë¥¸ìª½ í•˜ë‹¨ 2: â†”
0 0 0 0 0 #
# 2 # # # #
0 0 0 0 6 #
0 6 # # 2 #
0 0 0 0 0 #
# # # # # 5
ì™¼ìª½ ìƒë‹¨ 2: â†”, ì˜¤ë¥¸ìª½ í•˜ë‹¨ 2: â†•
0 0 0 0 0 #
# 2 # # # #
0 0 0 0 6 #
0 6 0 0 2 #
0 0 0 0 # #
# # # # # 5
ì™¼ìª½ ìƒë‹¨ 2: â†•, ì˜¤ë¥¸ìª½ í•˜ë‹¨ 2: â†”
0 # 0 0 0 #
0 2 0 0 0 #
0 # 0 0 6 #
0 6 # # 2 #
0 0 0 0 0 #
# # # # # 5
ì™¼ìª½ ìƒë‹¨ 2: â†•, ì˜¤ë¥¸ìª½ í•˜ë‹¨ 2: â†•
0 # 0 0 0 #
0 2 0 0 0 #
0 # 0 0 6 #
0 6 0 0 2 #
0 0 0 0 # #
# # # # # 5


CCTVëŠ” CCTVë¥¼ í†µê³¼í•  ìˆ˜ ìžˆë‹¤. ì•„ëž˜ ì˜ˆì‹œë¥¼ ë³´ìž.

0 0 2 0 3
0 6 0 0 0
0 0 6 6 0
0 0 0 0 0
ìœ„ì™€ ê°™ì€ ê²½ìš°ì— 2ì˜ ë°©í–¥ì´ â†• 3ì˜ ë°©í–¥ì´ â†ì™€ â†“ì¸ ê²½ìš° ê°ì‹œë°›ëŠ” ì˜ì—­ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
# # 2 # 3
0 6 # 0 #
0 0 6 6 #
0 0 0 0 #

ì‚¬ë¬´ì‹¤ì˜ í¬ê¸°ì™€ ìƒíƒœ, ê·¸ë¦¬ê³  CCTVì˜ ì •ë³´ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, CCTVì˜ ë°©í–¥ì„ ì ì ˆížˆ ì •í•´ì„œ, ì‚¬ê° ì§€ëŒ€ì˜ ìµœì†Œ í¬ê¸°ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤.

ìž…ë ¥
ì²«ì§¸ ì¤„ì— ì‚¬ë¬´ì‹¤ì˜ ì„¸ë¡œ í¬ê¸° Nê³¼ ê°€ë¡œ í¬ê¸° Mì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ N, M â‰¤ 8)

ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì—ëŠ” ì‚¬ë¬´ì‹¤ ê° ì¹¸ì˜ ì •ë³´ê°€ ì£¼ì–´ì§„ë‹¤. 0ì€ ë¹ˆ ì¹¸, 6ì€ ë²½, 1~5ëŠ” CCTVë¥¼ ë‚˜íƒ€ë‚´ê³ , ë¬¸ì œì—ì„œ ì„¤ëª…í•œ CCTVì˜ ì¢…ë¥˜ì´ë‹¤. 

CCTVì˜ ìµœëŒ€ ê°œìˆ˜ëŠ” 8ê°œë¥¼ ë„˜ì§€ ì•ŠëŠ”ë‹¤.

ì¶œë ¥
ì²«ì§¸ ì¤„ì— ì‚¬ê° ì§€ëŒ€ì˜ ìµœì†Œ í¬ê¸°ë¥¼ ì¶œë ¥í•œë‹¤.
```
## ðŸ’¡ë¬¸ì œ ì •ë¦¬
* 0ì€ ë¹ˆì¹¸ 6ì€ ë²½, 1~5ëŠ” cctv
* 6ì€ ì§€ë‚˜ê°ˆ ìˆ˜ ì—†ì§€ë§Œ 1~5ëŠ” ì§€ë‚˜ê°ˆ ìˆ˜ ìžˆë‹¤
* 6ê³¼ 1~5ëŠ” ë°©ìœ¼ë¡œ ì„¸ì§€ ì•ŠëŠ”ë‹¤ ì˜¤ì§ 0ë§Œ ë°©ì´ë‹¤
* ê° cctvëŠ” ê°ì‹œí•  ìˆ˜ ìžˆëŠ” ë°©í–¥ì´ ë‹¤ë¥´ë©° 90ë„ íšŒì „í•˜ì—¬ ë³€ê²½í•  ìˆ˜ ìžˆë‹¤
  * 1 : [ì˜¤],[ì™¼],[ì•„],[ìœ„]
  * 2 : [ì™¼,ì˜¤],[ìœ„,ì•„]
  * 3 : [ìœ„,ì˜¤],[ì˜¤,ì•„],[ì™¼,ì•„],[ìœ„,ì™¼]
  * 4 : [ì™¼,ìœ„,ì˜¤],[ìœ„,ì˜¤,ì•„],[ì™¼,ì•„,ì˜¤],[ì•„,ì™¼,ìœ„]
  * 5 : [ì˜¤,ì™¼,ì•„,ìœ„]
  * ì¦‰, ê° cctvì˜ ë°©í–¥ì„ ë°”ê¾¸ë©´ì„œ ì‚¬ê°ì§€ëŒ€ë¥¼ ìµœì†Œí™” í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ì¡°í•©ì´ ì¤‘ìš”í•œë‹¤
  * â­ **ë”°ë¼ì„œ DFSë¥¼ ì´ìš©í•˜ì—¬ ê° cctvì˜ ì¡°í•©ì„ êµ¬í•´ì•¼ í•œë‹¤**
* cctvì˜ ë°©í–¥ì„ ì •í•˜ê³  ê°ì‹œí•  ìˆ˜ ìžˆëŠ” ë¶€ë¶„ì˜ ê°œìˆ˜ë¥¼ êµ¬í•œë‹¤

## ðŸ’¡ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„
* ê° cctvì˜ ë°©í–¥ ë¯¸ë¦¬ ì •ì˜
  * ìƒí•˜ì¢Œìš° ì •ì˜
  * ê° cctvê°€ í•œë²ˆì— ê°ì‹œí•  ìˆ˜ ìžˆëŠ” ë°©í–¥ ì •ì˜
* ê° cctvì˜ ë°©í–¥ ì¡°í•©ì„ êµ¬í•œë‹¤
  * 1,2,3ì˜ cctvê°€ ìžˆë‹¤ë©´ ì˜¤,[ì™¼,ì˜¤],[ìœ„,ì˜¤] ì¡°í•© ë“±ë“±
* ì¡°í•©ì„ êµ¬í•œ ë’¤ ê° cctvê°€ ê°€ì‹¬í•  ìˆ˜ ìžˆëŠ” ë°©ì„ ì „ë¶€ ì°¾ì•„ì¤€ë‹¤

## ðŸ’¡ì½”ë“œ

```python

import sys

# ìƒ, í•˜, ì¢Œ, ìš° ë°©í–¥ì„ ë‚˜íƒ€ë‚´ëŠ” ë¦¬ìŠ¤íŠ¸ë“¤
up = [-1, 0]
down = [1, 0]
left = [0, -1]
right = [0, 1]

# ê° CCTVì˜ ë°©í–¥ ì¡°í•©ì„ í‘œí˜„í•œ ë¦¬ìŠ¤íŠ¸
D = [
    [[right], [down], [left], [up]],
    [[left, right], [up, down]],
    [[up, right], [right, down], [left, down], [left, up]],
    [[left, up, right], [up, right, down], [right, down, left], [up, left, down]],
    [[left, right, up, down]]
]

def chk():
    global max_num
    cnt = 0
    visited = [[0 for _ in range(M)] for _ in range(N)]

    # ê° CCTVì˜ ìœ„ì¹˜ì™€ ë°©í–¥ì„ ì´ìš©í•˜ì—¬ ê°ì‹œ ì˜ì—­ì„ ì²´í¬
    for i in cctv:
        x = i[0][0]
        y = i[0][1]
        for d in D[K[x][y] - 1][i[1]]:
            tmpX = x
            tmpY = y
            while (0 <= tmpX < N and 0 <= tmpY < M):
                if K[tmpX][tmpY] == 6:
                    break
                if K[tmpX][tmpY] == 0 and visited[tmpX][tmpY] == 0:
                    cnt += 1
                    visited[tmpX][tmpY] = "#"
                tmpX += d[0]
                tmpY += d[1]
    max_num = max(max_num, cnt)

def dfs(v):
    if v == len(cctv):
        chk()
        return

    # ê° CCTVì˜ ë°©í–¥ ì¡°í•©ì„ ëª¨ë‘ ì‹œë„í•˜ì—¬ DFS ìˆ˜í–‰
    for i in range(len(D[K[cctv[v][0][0]][cctv[v][0][1]] - 1])):
        cctv[v][1] = i
        dfs(v + 1)

# ìž…ë ¥ ë°›ê¸°
N, M = map(int, sys.stdin.readline().strip().split())
K = [list(map(int, sys.stdin.readline().strip().split())) for _ in range(N)]
max_num = -1
cctv = []
room = N * M

# CCTVì˜ ìœ„ì¹˜ì™€ ì´ˆê¸° ë°©í–¥ ì„¤ì •
for x in range(N):
    for y in range(M):
        if K[x][y] != 0 and K[x][y] != 6:
            cctv.append([[x, y], 0])
        if K[x][y] != 0:
            room -= 1

# DFS ìˆ˜í–‰ ë° ê²°ê³¼ ì¶œë ¥
dfs(0)
print(room - max_num)


```

## ðŸ’¡ì‹œê°„ë³µìž¡ë„
 O(N)

## ðŸ’¡Â í‹€ë¦° ì´ìœ 


## ðŸ’¡Â ë‹¤ë¥¸ í’€ì´

```python

```

## ðŸ’¡Â ëŠë‚€ì  or ê¸°ì–µí• ì •ë³´