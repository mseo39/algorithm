# ì‚¬ë‹¤ë¦¬ ì¡°ì‘

## ğŸ’¡ë¬¸ì œ ë¶„ì„ ìš”ì•½
```
ì‹œê°„ì œí•œ 2ì´ˆ
ë©”ëª¨ë¦¬ ì œí•œ 512MB

ì‚¬ë‹¤ë¦¬ ê²Œì„ì€ Nê°œì˜ ì„¸ë¡œì„ ê³¼ Mê°œì˜ ê°€ë¡œì„ ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. 
ì¸ì ‘í•œ ì„¸ë¡œì„  ì‚¬ì´ì—ëŠ” ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆëŠ”ë°, ê°ê°ì˜ ì„¸ë¡œì„ ë§ˆë‹¤ ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆëŠ” ìœ„ì¹˜ì˜ ê°œìˆ˜ëŠ” Hì´ê³ , ëª¨ë“  ì„¸ë¡œì„ ì´ ê°™ì€ ìœ„ì¹˜ë¥¼ ê°–ëŠ”ë‹¤. 
ì•„ë˜ ê·¸ë¦¼ì€ N = 5, H = 6 ì¸ ê²½ìš°ì˜ ê·¸ë¦¼ì´ê³ , ê°€ë¡œì„ ì€ ì—†ë‹¤.
ì´ˆë¡ì„ ì€ ì„¸ë¡œì„ ì„ ë‚˜íƒ€ë‚´ê³ , ì´ˆë¡ì„ ê³¼ ì ì„ ì´ êµì°¨í•˜ëŠ” ì ì€ ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆëŠ” ì ì´ë‹¤. 
ê°€ë¡œì„ ì€ ì¸ì ‘í•œ ë‘ ì„¸ë¡œì„ ì„ ì—°ê²°í•´ì•¼ í•œë‹¤. ë‹¨, ë‘ ê°€ë¡œì„ ì´ ì—°ì†í•˜ê±°ë‚˜ ì„œë¡œ ì ‘í•˜ë©´ ì•ˆ ëœë‹¤. ë˜, ê°€ë¡œì„ ì€ ì ì„  ìœ„ì— ìˆì–´ì•¼ í•œë‹¤.

ìœ„ì˜ ê·¸ë¦¼ì—ëŠ” ê°€ë¡œì„ ì´ ì´ 5ê°œ ìˆë‹¤. ê°€ë¡œì„ ì€ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì¸ì ‘í•œ ë‘ ì„¸ë¡œì„ ì„ ì—°ê²°í•´ì•¼ í•˜ê³ , ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆëŠ” ìœ„ì¹˜ë¥¼ ì—°ê²°í•´ì•¼ í•œë‹¤.
ì‚¬ë‹¤ë¦¬ ê²Œì„ì€ ê°ê°ì˜ ì„¸ë¡œì„ ë§ˆë‹¤ ê²Œì„ì„ ì§„í–‰í•˜ê³ , ì„¸ë¡œì„ ì˜ ê°€ì¥ ìœ„ì—ì„œë¶€í„° ì•„ë˜ ë°©í–¥ìœ¼ë¡œ ë‚´ë ¤ê°€ì•¼ í•œë‹¤. 
ì´ë•Œ, ê°€ë¡œì„ ì„ ë§Œë‚˜ë©´ ê°€ë¡œì„ ì„ ì´ìš©í•´ ì˜† ì„¸ë¡œì„ ìœ¼ë¡œ ì´ë™í•œ ë‹¤ìŒ, ì´ë™í•œ ì„¸ë¡œì„ ì—ì„œ ì•„ë˜ ë°©í–¥ìœ¼ë¡œ ì´ë™í•´ì•¼ í•œë‹¤.
ìœ„ì˜ ê·¸ë¦¼ì—ì„œ 1ë²ˆì€ 3ë²ˆìœ¼ë¡œ, 2ë²ˆì€ 2ë²ˆìœ¼ë¡œ, 3ë²ˆì€ 5ë²ˆìœ¼ë¡œ, 4ë²ˆì€ 1ë²ˆìœ¼ë¡œ, 5ë²ˆì€ 4ë²ˆìœ¼ë¡œ ë„ì°©í•˜ê²Œ ëœë‹¤. 
ì•„ë˜ ë‘ ê·¸ë¦¼ì€ 1ë²ˆê³¼ 2ë²ˆì´ ì–´ë–»ê²Œ ì´ë™í–ˆëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ê·¸ë¦¼ì´ë‹¤.

1ë²ˆ ì„¸ë¡œì„ 	2ë²ˆ ì„¸ë¡œì„ 
ì‚¬ë‹¤ë¦¬ì— ê°€ë¡œì„ ì„ ì¶”ê°€í•´ì„œ, ì‚¬ë‹¤ë¦¬ ê²Œì„ì˜ ê²°ê³¼ë¥¼ ì¡°ì‘í•˜ë ¤ê³  í•œë‹¤. ì´ë•Œ, ië²ˆ ì„¸ë¡œì„ ì˜ ê²°ê³¼ê°€ ië²ˆì´ ë‚˜ì™€ì•¼ í•œë‹¤. ê·¸ë ‡ê²Œ í•˜ê¸° ìœ„í•´ì„œ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê°€ë¡œì„  ê°œìˆ˜ì˜ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

ì…ë ¥
ì²«ì§¸ ì¤„ì— ì„¸ë¡œì„ ì˜ ê°œìˆ˜ N, ê°€ë¡œì„ ì˜ ê°œìˆ˜ M, ì„¸ë¡œì„ ë§ˆë‹¤ ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆëŠ” ìœ„ì¹˜ì˜ ê°œìˆ˜ Hê°€ ì£¼ì–´ì§„ë‹¤. (2 â‰¤ N â‰¤ 10, 1 â‰¤ H â‰¤ 30, 0 â‰¤ M â‰¤ (N-1)Ã—H)
ë‘˜ì§¸ ì¤„ë¶€í„° Mê°œì˜ ì¤„ì—ëŠ” ê°€ë¡œì„ ì˜ ì •ë³´ê°€ í•œ ì¤„ì— í•˜ë‚˜ì”© ì£¼ì–´ì§„ë‹¤.
ê°€ë¡œì„ ì˜ ì •ë³´ëŠ” ë‘ ì •ìˆ˜ aê³¼ bë¡œ ë‚˜íƒ€ë‚¸ë‹¤. (1 â‰¤ a â‰¤ H, 1 â‰¤ b â‰¤ N-1) bë²ˆ ì„¸ë¡œì„ ê³¼ b+1ë²ˆ ì„¸ë¡œì„ ì„ aë²ˆ ì ì„  ìœ„ì¹˜ì—ì„œ ì—°ê²°í–ˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
ê°€ì¥ ìœ„ì— ìˆëŠ” ì ì„ ì˜ ë²ˆí˜¸ëŠ” 1ë²ˆì´ê³ , ì•„ë˜ë¡œ ë‚´ë ¤ê°ˆ ë•Œë§ˆë‹¤ 1ì´ ì¦ê°€í•œë‹¤. ì„¸ë¡œì„ ì€ ê°€ì¥ ì™¼ìª½ì— ìˆëŠ” ê²ƒì˜ ë²ˆí˜¸ê°€ 1ë²ˆì´ê³ , ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°ˆ ë•Œë§ˆë‹¤ 1ì´ ì¦ê°€í•œë‹¤.
ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ê°€ë¡œì„ ì´ ì„œë¡œ ì—°ì†í•˜ëŠ” ê²½ìš°ëŠ” ì—†ë‹¤.

ì¶œë ¥
ië²ˆ ì„¸ë¡œì„ ì˜ ê²°ê³¼ê°€ ië²ˆì´ ë‚˜ì˜¤ë„ë¡ ì‚¬ë‹¤ë¦¬ ê²Œì„ì„ ì¡°ì‘í•˜ë ¤ë©´, ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê°€ë¡œì„  ê°œìˆ˜ì˜ ìµœì†Ÿê°’ì„ ì¶œë ¥í•œë‹¤. 
ë§Œì•½, ì •ë‹µì´ 3ë³´ë‹¤ í° ê°’ì´ë©´ -1ì„ ì¶œë ¥í•œë‹¤. ë˜, ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ì—ë„ -1ì„ ì¶œë ¥í•œë‹¤.
```
## ğŸ’¡ë¬¸ì œ ì •ë¦¬
* Nê°œì˜ ì„¸ë¡œì„  Mê°œì˜ ê°€ë¡œì„ 
* ê°ê°ì˜ ì„¸ë¡œì„ ë§ˆë‹¤ ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆëŠ” ìœ„ì¹˜ì˜ ê°œìˆ˜ H
* ê°€ë¡œì„ 
  * ê°€ë¡œì„ ì€ ì¸ì ‘í•œ ì„¸ë¡œì„ ì„ ì—°ê²°í•œë‹¤
  * ë‹¨ ê°€ë¡œì„ ì„ ì„œë¡œ ì¸ì ‘í•˜ë©´ ì•ˆëœë‹¤
  * ê°€ë¡œì„ ì—ëŠ” ì •í•´ì§„ ìœ„ì¹˜ì—ë§Œ ë†“ì„ ìˆ˜ ìˆë‹¤
* ì‚¬ë‹¤ë¦¬ ê²Œì„
  * ê°€ì¥ ìœ„ì—ì„œë¶€í„° ì•„ë˜ë¡œ ì´ë™í•˜ê³  ê°€ë¡œì„ ì„ ë§Œë‚˜ë©´ ê°€ë¡œì„ ì„ ì´ìš©í•´ ì˜† ì„¸ë¡œì„ ìœ¼ë¡œ ì´ë™
* ì´ë•Œ! ië²ˆ ì„¸ë¡œì„ ì˜ ê²°ê³¼ê°€ Ië²ˆì´ ë‚˜ì™€ì•¼ í•œë‹¤
  * ê·¸ë ‡ê²Œ í•˜ê¸° ìœ„í•´ ìµœì†Œ ëª‡ê°œì˜ ê°€ë¡œì„ ì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ”ê°€?
  * ìµœëŒ€ 3ê°œê¹Œì§€ë§Œ ê°€ëŠ¥í•˜ë©° 4ê°œ ì´ìƒì€ -1ì„ ì¶œë ¥í•œë‹¤


## ğŸ’¡ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„
* 0,0ì— ì‚¬ë‹¤ë¦¬ê°€ ë†“ì—¬ì ¸ ìˆìœ¼ë©´ 0ê³¼ 1ì´ ì—°ê²°ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤ 
  * ì¦‰, ì €ì¥ëœ ê°€ë¡œì„ ì€ ì˜¤ë¥¸ìª½ ì„¸ë¡œì„ ê³¼ ì—°ê²°ë˜ì–´ìˆë‹¤ëŠ” ê²ƒìœ¼ë¡œ
  * ë§¨ ë§ˆì§€ë§‰ ì„¸ë¡œì„ ì—ëŠ” ê°€ë¡œì„ ì„ ë†“ì§€ ì•ŠëŠ”ë‹¤(ì–´ì°¨í”¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ ë¶ˆê°€ ì´ë¯€ë¡œ)
* dfs íƒìƒ‰ ë°©ë²•ì€ ì™„ì „íƒìƒ‰.mdë¥¼ í™•ì¸
* dfsê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ië²ˆ ì„¸ë¡œì„ ì´ ië²ˆì´ ë‚˜ì˜¤ëŠ”ì§€ ê²€ì‚¬í•˜ê³ 
  * ë‚˜ì˜¨ë‹¤ë©´ ìµœì†Œê°’ì„ ê°±ì‹ í•´ì¤€ë‹¤

## ğŸ’¡ì½”ë“œ

```python
import sys

# ì²´í¬ í•¨ìˆ˜: ì‚¬ë‹¤ë¦¬ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸
def chk():
    for y in range(N):
        x = 0
        tmp = y
        #ë§¨ ì•„ë˜ê¹Œì§€ ì´ë™
        while(x != H):
            #í˜„ì¬ ìœ„ì¹˜ì— ì‚¬ë‹¤ë¦¬ê°€ ìˆë‹¤ë©´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™
            if bridge[x][tmp] == 1:
                tmp += 1
            #ì™¼ìª½ ìœ„ì¹˜ì— ì‚¬ë‹¤ë¦¬ê°€ ìˆë‹¤ë©´ ì™¼ìª½ìœ¼ë¡œ ì´ë™
            elif tmp > 0 and bridge[x][tmp - 1] == 1:
                tmp -= 1
            x += 1 # í–‰ ì¦ê°€
        if tmp != y: #ië²ˆ ì„¸ë¡œì„ ì´ iê°€ ì•„ë‹ˆë¼ë©´
            return False
    return True

# ì‚¬ë‹¤ë¦¬ë¥¼ ë†“ì„ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
def bridge_chk(x, y):
    # ì‚¬ë‹¤ë¦¬ê°€ ì¸ì ‘í•˜ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— í˜„ì¬ ìœ„ì¹˜, ì™¼ìª½, ì˜¤ë¥¸ìª½ì— ì‚¬ë‹¤ë¦¬ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒ
    if bridge[x][y] == 0 and (y == 0 or (y > 0 and bridge[x][y - 1] == 0)) and bridge[x][y + 1] == 0:
        return True
    return False

# DFSë¡œ ì‚¬ë‹¤ë¦¬ ì„¤ì¹˜í•˜ê¸°
def dfs(cnt, X, Y):
    global ans
    # 3ë³´ë‹¤ í¬ê±°ë‚˜ í˜„ì¬ ìµœì†Œê°’ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤ë©´ ì¢…ë£Œ
    if cnt > 3 or cnt >= ans:
        return
    if chk(): # ië²ˆì—ì„œ ië²ˆìœ¼ë¡œ ê°€ëŠ” ì¡°ê±´ì„ ì¶©ì¡±í•œë‹¤ë©´
        ans = min(ans, cnt)
    now = Y
    for x in range(X, H):
        for y in range(now, N - 1): #ë§ˆì§€ë§‰ ì„¸ë¡œì„ ì—ëŠ” ê°€ë¡œì„ ì„ ë†“ì§€ ì•ŠëŠ”ë‹¤(ì–´ì°¨í”¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ ë¶ˆê°€ ì´ë¯€ë¡œ)
            if bridge_chk(x, y):
                bridge[x][y] = 1
                dfs(cnt + 1, x, y + 2)
                bridge[x][y] = 0
        now = 0

# ì…ë ¥ ë°›ê¸°
N, M, H = map(int, sys.stdin.readline().strip().split())
bridge = [[0 for _ in range(N)] for _ in range(H)]

# ì…ë ¥ê°’ìœ¼ë¡œë¶€í„° ê¸°ì¡´ì— ì„¤ì¹˜ëœ ì‚¬ë‹¤ë¦¬ ì •ë³´ ì—…ë°ì´íŠ¸
for _ in range(M):
    a, b = map(int, sys.stdin.readline().strip().split())
    bridge[a - 1][b - 1] = 1

# ìµœì†Œ ì„¤ì¹˜ íšŸìˆ˜ ì´ˆê¸°í™” ë° DFS ì‹œì‘
ans = 4
dfs(0, 0, 0)

# ì •ë‹µ ì¶œë ¥
print(ans if ans != 4 else -1)

```

## ğŸ’¡ì‹œê°„ë³µì¡ë„

## ğŸ’¡Â í‹€ë¦° ì´ìœ 

## ğŸ’¡Â ë‹¤ë¥¸ í’€ì´

```python

```

## ğŸ’¡Â ëŠë‚€ì  or ê¸°ì–µí• ì •ë³´
ì´ì „ì— 1ì°¨ì› ë°°ì—´ì—ì„œ ì¤‘ë³µì—†ì´ ì¡°í•©ì„ êµ¬í•  ë•Œì— ëŒ€í•´ ì–˜ê¸°í•œ ì ì´ ìˆë‹¤ ì´ë²ˆì—ëŠ” 2ì°¨ì›ë°°ì—´ì— ëŒ€í•œ ê²ƒì´ì—ˆëŠ”ë°
ì™„ì „íƒìƒ‰.mdì— ì •ë¦¬í•´ë†“ì•˜ë‹¤